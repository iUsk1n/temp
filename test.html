<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>

<link rel="stylesheet" type="text/css" href="bootstrap.css">
<link rel="stylesheet" type="text/css" href="dataTables.bootstrap4.min.css">

<script type="text/javascript" charset="utf8" src="jquery.js"></script>
<script type="text/javascript" charset="utf8" src="bootstrap.min.js"></script>
<script type="text/javascript" charset="utf8" src="jquery.dataTables.min.js"></script>
<script type="text/javascript" charset="utf8" src="dataTables.bootstrap4.min.js"></script>

</head>
<body>

    <button type="button" id="btn-add-tab" class="btn btn-primary">タブ追加</button>

    <ul id="tabs" class="nav nav-tabs">
        <li id="tab1" class="nav-item">
              <a href="#tab-pane1" class="nav-link active" data-toggle="tab">タブ１</a>
        </li>
    </ul>
    
    <div id="tab-panes" class="tab-content">
        <div id="tab-pane1" class="tab-pane active">
            <div class="row">
                <div class="col-md-2"></div>
                <div class="col-md-10">
                    <table id="table1" class="table table-striped table-bordered" style="width:100%">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Name</th>
                            </tr>
                        </thead>
                        <tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>



<script>
$(document).ready(function() {
    $('#table1').DataTable();
    
    $('#btn-add-tab').on('click', function() {
        $('.nav-link.active').removeClass('active');
        $('.tab-pane.active').removeClass('active');
        
        $('#tabs').append(
            $('<li>').attr('id', 'tab2').addClass('nav-item').append(
                $('<a>').attr('href', '#tab-pane2').addClass('nav-link active').attr('data-toggle', 'tab').text('タブ２')
            )
        );
        
        $('#tab-panes').append(
            $('<div>').attr('id', 'tab-pane2').addClass('tab-pane active').append(
                $('<div>').addClass('row').append(
                    $('<div>').addClass('col-md-2')
                ).append(
                    $('<div>').addClass('col-md-10').append(
                        $('<table>').attr('id', 'table2').addClass('table table-striped table-bordered').css('width', '100%').append(
                            $('<thead>').append($('<tr>').append(
                                $('<th>').text('ID2')
                            ).append(
                                $('<th>').text('Name2')
                            ))
                        ).append(
                            $('<tbody>')
                        )
                    )
                )
            )
        );
        
        $('#table2').DataTable();
    });
} );
</script>
</body>
</html>